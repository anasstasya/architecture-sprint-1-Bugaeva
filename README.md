## Задание 1

Самый очевидный ответ на задание - такой проект вообще не надо разбивать на микросервисы ¯\\\_(ツ)_/¯

Поэтому основной целью было скорее ознакомиться с тулингом который существует для этого и который был в целом проигнорирован в обучающих материалах к сожалению(

Создал проект, попробовал фичу с `workspaces`, добавил `lerna` для запуска всего, попробовал выделить локальный пакет с кодом для доступа к бэкэнду и переиспользовать его в микрофронтендах.

Часть 1

Между `WMF` и `signle-spa` выбрал последний так как уже был с ним знаком, из плюсов по сравнению с конкурентом:
- не зависит от выбраной билд системы и фронтового фрэймворка
- основан на `import-maps` - можно подкладывать импортмапы уже в собраный сайт или даже менять на лету для дебага, если подгрузить `importmap-overrides` на страницу
- дает апи для отслеживания `lifecycle` микрофронта
- имеет простой роутинг из коробки
- содержит такую фичу как `Parcel`, которая в теории позволяет подгружать микрофронты друг в друга

Основные проблемы возникли с написанием рутового фронта, так как сайт предполагает заградительный экран с авторизацией, следовательно надо куда то поместить логику проверки наличия jwt токена и редиректа на страницу авторизации.

Казалось что фича с `Parcel` отлично подходит, так есть даже компонет для реакта и можно перенести большую часть кода из App.js вместе с `react-router`. Однако, оказлось что внутри компонента `<Route/>` микрофронт не закружается, в консоли появляются ошибки, попытка переписать это без роутера и просто показывать/скрывать конпоненты `<Parcel/>` тоже не увенчалась успехом, так как на странице отображался всегда тот микрофронт который загрузался в самом начале. Поэтому пришлось вернуться к классической конфигруации `single-spa` через `registerApplication`, этот вариант уже заработал без проблем, но тут собственно дала о себе знать проблема по которй это приложение не имеет смысла разбивать на микрофронты - у него нет фиксирвоанного лэйаута. То есть нужно писать ещё логику по отображению лэйаута для основного экрана сайта и лэйаута авторизации, так как не очень хотелось бы при первом входе на `/` подгружать все микрофронты для основной страницы, а потом уходить на `/signin`.

Часть 2

Собственно относительно самой идеи см. самое первое предложение, но все же если по фантазировать, то я бы предложил следующий план.

1. редирект на авторизацию реализовать на стороне бэкэнда чтобы не усложнять фронт этой логикой и оптимизировать скорость загрузки
2. вызовы api бэкенда и какие то общие ui-компоненты вынести в отдельный проект (не фротнэнд, а обычный пакет)
3. создать микрофронты и привязать к адресам (url - микрофронты):
    - `/signin` - микрофронт авторизации
    - `/register` - микрофронт авторизации (тот же самый что и выше, через `CustomProps` можно указать что именно нам нужно отобразить регистрацию или авторизацию)
    - `/`:
        - микрофронт с таблицей изображений (включая попап просмотра и фичу удаления фото)
        - микрофронт с информацией о пользователе
        - микрофронт с добавлением фотографии
4. Настроить обмен сообщениями и общий стор, какой нибудь `Redux+Saga` закрыл бы эту часть, но тут вариантов масса, я просто выбираю то, что хорошо знаю

Часть 3

Раскладывать все компоненты не стал, большую часть времени потратил на практику с монорепой и тулингом. Реализовал только микрофронт с авторизацией и таблицу изображений. Добавил логику перехода на экран авторизации, и обратный переход на таблицу через `CustomEvent`.

Не проверял установятся ли корректно все пакеты, но можно пробовать сделать `yarn && yarn start` и перейти на `http://localhost:5173/`

## Задание 2

[Файл со схемой лежит в корне репы - arch_template_task.drawio](arch_template_task.drawio)
