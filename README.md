# Level 1 - Проектирование

Приложение можно разделить на следующие микрофронтенды:  
auth - аутентификация и авторизация пользователя  
profile - профиль пользователя  
cards - работа с фотографиями (добавление, удаление)  
likes - обработка лайков

Связи:
App
 - auth
   - login
   - register
 - profile
   - get user info
   - set user info
 - cards
   - get list
   - add card
   - delete card
   - like card
   - unlike card
 - likes - нет визуала, только получает информацию от cards и отправляет ее на бэкэнд
   - increase like
   - decrease like

Выбираем метод интеграции: runtime  
Выбираем метод композиции: клиентская  
Выбор инструмента:  
Webpack Module Federation vs Single SPA  

WPMF:
- позволяет приложениям использовать общий код во время выполнения
- lazy loading
- shared dependencies

SSPA:
- lazy loading
- разнообразие фреймворков на одной странице

Выбираем WPMF:  
Нет необходимости в использовании разных фреймворков, используем только React.  
Даже при разделении на команды можно например одной команде отдать два модуля.  
Ввзаимозаменяемость команд, т.к. одинаковый стек.  

Состояние и связь между фронтендами:
- общий контекст - для хранения данных о текущем авторизованном пользователе
  - используется host, профилем 
- паттерн Pub/Sub
  - информация о лайках/разлайках (публикует cards, потребляет likes)

Обоснование разделение именно на такие микрофронтенды:  

auth:
- все функции по аутентификации и авторизации собраны в одном модуле, другие микрофронтенды знают только о факте аутентификации и имеют доступ только к id пользователя
- варианты аутентефикации и авториации могут быть в будущем изменены, что для остальных микрофронтендов никаких изменений не потребует

cards:
- все функции по работе с картинками, добавление, удаление, ...

likes: 
- на текущий момент тут только получение от сервиса cards событий likes/unlike
- если потребуется собрать информацию, статистику, построить графики, ... всё это будет реализовано тут

profile:
- все функции по работе с профилем