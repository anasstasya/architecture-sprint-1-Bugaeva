## Задание 1
_Вам нужно разделить проект Mesto на несколько микрофронтендов. Самостоятельно решите, какой фреймворк будете использовать, — Module Federation или Single SPA._

### Уровень 1. Проектирование

Согласно документации задания проект содержит следующий функционал:

- Загрузка фотографий
- Удаление фотографий
- Сбор и учёт лайков под фотографиями
- Создание профиля и его редактирование

Кроме того, существует функционал, не описанный в документации задания:
- Регистрация и аутентификация пользователя


Руководствуйтесь принципом `Domain-Driven Design` с помощью `Webpack Module Federation` существующую функциональность можно разбить на следующие компоненты:

1. `host` - основное приложение, которое динамически загружает удалённые (remote) модули

Удалённые (remote) модули, которые предоставляют часть своей функциональности хосту или другим удалённым модулям. Каждый из них является отдельным микрофронтендом:

2. `auth` - регистрация и аутентификация пользователя
3. `user` - просмотр и редактирование профиля пользователя
4. `photo` - работа с фотографиями и лайки

Мы знаем что между Webpack Module Federation и Single SPA нет принципиальных различий и выбор инструмента зависит в целом от личных предпочтений и комфорта использования, был выбран именно Webpack Module Federation как более привычный и знакомый инструмент.

Объединение компонентов в единый пользовательский интерфейс будет происходить методом `Run time`. Он выбран за следующие преимущества:
- Возможность изменения отдельных микрофронтендов без полной повторной сборки и деплоя всего приложения
- Упрощение работы с CI/CD-пайплайном

### Уровень 2. Планирование изменений

#### Новая структура frontend, разделенная на микрофронтенды с помощью Webpack Module Federation:

```bash
# host - основное приложение, которое динамически загружает удалённые (remote) модули
├── src
│   └── components
│       ├── App.js
│       ├── Footer.js
│       ├── Header.js
│       ├── Main.js
│       └── ProtectedRoute.js
└── webpack.config.js
```

```bash
# auth - регистрация и аутентификация пользователя
├── src
│   ├── components
│   │   ├── InfoTooltip.js
│   │   ├── Login.js
│   │   └── Register.js
│   └── images
│       ├── error-icon.svg
│       └── success-icon.svg
└── webpack.config.js
```

```bash
# user - просмотр и редактирование профиля пользователя
├── src
│   ├── components
│   │   ├── EditAvatarPopup.js
│   │   ├── EditProfilePopup.js
│   │   └── PopupWithForm.js
│   └── images
│       ├── add-icon.svg
│       ├── avatar.jpg
│       ├── close.svg
│       └── edit-icon.svg
└── webpack.config.js
```

```bash
# photo - работа с фотографиями и лайки
├── src
│   ├── components
│   │   ├── AddPlacePopup.js
│   │   ├── Card.js
│   │   ├── ImagePopup.js
│   │   └── PopupWithForm.js
│   └── images
│       ├── card_1.jpg
│       ├── card_2.jpg
│       ├── card_3.jpg
│       ├── close.svg
│       ├── delete-icon.svg
│       ├── like-active.svg
│       └── like-inactive.svg
└── webpack.config.js
```

#### Микрофронтенды доступны по сети, у каждого отдельный порт:
```
auth  :8081
user  :8082
photo :8083
```

#### Секция `remotes` файла `webpack.config.js` компонента `host` содержит ссылки на новые микрофронтенды:
```bash
      remotes: {
        auth: "auth@http://localhost:8081/remoteEntry.js",
        user: "user@http://localhost:8082/remoteEntry.js",
        cards: "photo@http://localhost:8083/remoteEntry.js",
      },
```

## Задание 2
_В этом задании вам нужно декомпозировать веб-приложения на Django на микросервисы._

#### Описание решения и ссылка на схему
[СХЕМА](https://storage.yandexcloud.net/momo-store/task2.drawio)

Монолитный сервис был депомпозирован согласно предметным областям:
```bash
Сервис работы с заказами
- создание заказа
- редактирование заказа
- сохранение заказа
- размещение заказа
- подтверждение заказа
- отображение всех заказов
- отображение деталей заказов
Поток 1. Управление заказом со стороны фронтента, размещение, подтверждение, сохранение заказа.
```

```bash
Сервис аутентификации и авторизации
- аутентификация
- валидация токена безопасности
Поток 2. Запрос на аутентификацию пользователя
Поток 3. Валидация токена безопасности
Поток 9. Запрос данных о пользователе у сервиса Профиль пользователя, проверка его существования до регистрации
Поток 11. В сторону фронтенда передается JWT-токен для доступа к площадке аутентифицировавшегося пользователя
```

```bash
Сервис работы с пользователями
- регистрация пользователя
- присвоение ролей
- профиль пользователя
Поток 7. Регистрация пользователя вызывается со стороны фронтенда, в процессе отправляются данные для заполнения профиля пользователя
Поток 12. Передача данных из профиля пользователя на фронтенд для отображения в клиенте
```

```bash
Сервис аукционов
- создание аукциона
- редактирование аукциона
- обработка новой заявки на аукцион
- обновление статуса аукциона
- обновление ставок аукциона
Поток 9. Фронтенд передает в сервис аукционов заявку на аукцион
```

```bash
Сервис уведомлений
- нотификация нового пользователя
- нотификация об изменении состояния заказа
- нотификация участника аукциона
Поток 8. Отправка уведомления зарегистрированному пользователю с помощью информации из профиля пользователя (email и номер телефона)
```

```bash
Сервис платежей
- учет платежной системы
- авторизация платежной операции
- предоставление списка и статуса операций
- инициировать отмену транзакции
- запросить статус операции
- предоставить статус операции
- определить способ оплаты
- инициировать платежную операцию
- отмена платежа

Поток 5. Инициирование платежа и отправка данных в сервис платежной системы
Поток 2. Предоставление статуса платежа со стороны платежной системы
Поток 6. Подтверждение отмены платежа со стороны платежной системы
Поток 4. Запрос статуса платежа у платежной системы с отправкой идентификатора транзакции
```

```bash
Сервис товаров
- поиск товара
- изменение товара пользователя
- добавление товара в профиль пользователя
- удаление товара пользователя

Поток 15. Сервис товаров пользователя отправляе на фронтенд данные о товарах пользователя для отображения в профиле пользователя.
```

```bash
Сервис услуг
- поиск услуг
- изменение услуги пользователя
- добавление услуги в профиль пользователя
- удаление услуги пользователя
  
Поток 10. Запрос данных об услугах пользователя со стороны фронтенда.
```

```bash
Сервис отчетов
- генерация отчета активности пользователей
- фильтрация и сортировка результатов
- генерация отчетов о продажах
- отображение статистики заказов

Поток 14. Сервис заказов передает данные о заказах для формирования различных отчетов.
```

```bash
Сервис обращений пользователей
- создание заявки на техподдержку
- регистрация заявки на техподдержку
- обновление статуса заявки
- создание заявки на апелляцию
- обновление статуса заявки на апелляцию

Поток 13. Фронтенд передает в сервис заявку пользователя на техническую поддержку.
```
